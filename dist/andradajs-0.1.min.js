Kinetic.Sprite.extend("Andrada.Core.Graphics.Tile",{},{}),Kinetic.Group.extend("Andrada.Core.Graphics.Zone",{},{}),Kinetic.Sprite.extend("Andrada.Core.Graphics.Particle",{},{}),gamecore.Base.extend("Andrada.Core.Graphics.ParticleEmmiter",{},{}),Kinetic.Sprite.extend("Andrada.Core.Graphics.Item",{},{}),Kinetic.Sprite.extend("Andrada.Core.Graphics.Mobile",{},{}),gamecore.Base.extend("Andrada.Core.Networking.Packet",{},{}),gamecore.Base.extend("Andrada.Core.Networking.PacketHandler",{register:function(e,t){}},{init:function(){}}),Andrada.Core.Networking.Exceptions={NOT_A_PACKET_EXCEPTION:"Andrada: [Security Exception] Attempted to send something else than a packet"},gamecore.Base.extend("Andrada.Core.Networking.PacketReader",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.Networking.PacketWriter",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.Networking.MessagePump",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.Networking.SendQueue",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.Networking.NetState",{CONNECTING:0,OPEN:0,CLOSING:2,CLOSED:3,HEARTBEAT_DELAY:2e4},{websocket:null,isClosed:!0,readyState:3,hearbeat:null,delay:80,delayMax:1e4,init:function(e){this.isClosed=!1,this.readyState=Andrada.Core.Networking.NetState.CONNECTING,this.websocket=new(this._getUnderlyingSocket())(e);if(!this.websocket)return this.ondisconnect(),!1;this.websocket.onopen=this.callback("_transportonopen"),this.websocket.onclose=this.callback("_transportonclose"),this.websocket.onmessage=this.callback("_transportonmessage"),this.websocket.onerror=this.callback("_transportonclose")},_getUnderlyingSocket:function(){return window.WebSocket?window.WebSocket:!1},send:function(e){if(this.websocket){if(!e.isA("Packet"))throw new Error(Andrada.Core.Networking.Exceptions.NOT_A_PACKET_EXCEPTION);return this.websocket.send(e)}return!1},close:function(){this.websocket&&(this.readyState=Andrada.Core.Networking.NetState.CLOSING,this.websocket.close())},_transportonopen:function(){this.heartbeat=setInterval(function(){this.onheartbeat()},Andrada.Core.Networking.NetState.HEARTBEAT_DELAY),this.readyState!=Andrada.Core.Networking.NetState.OPEN&&(this.readyState=Andrada.Core.Networking.NetState.OPEN,this.onopen())},_transportonclose:function(){clearInterval(this.heartbeat),this.readyState=Andrada.Core.Networking.NetState.CLOSED,this.onclose()},_transportonmessage:function(e){this.onmessage(e)},onopen:function(){},onclose:function(){},ondisconnect:function(){},onmessage:function(){},onheartbeat:function(){}}),gamecore.Base.extend("Andrada.Core.Asset",{},{}),gamecore.Base.extend("Andrada.Core.AssetBundle",{},{init:function(e){this.assets=[],this.events=new pulse.EventManager,this._private={},this._private.numberLoaded=0,this.percentLoaded=0},addAsset:function(e){if(e.isA("Andrada.Core.Asset")){var t=this;e.events.bind("complete",function(n){t._private.numberLoaded++,t.updatePercent(),t.events.raiseEvent("assetLoaded",{asset:e.name})}),this.assets.push(e)}},removeAsset:function(e){var t=e;e.isA("Andrada.Core.Asset")&&(t=e.name);for(var n in this.assets)this.assets[n].name===t&&this.assets.splice(n,1);this.updatePercent()},getAsset:function(e){for(var t=0;t<this.assets.length;t++)if(this.assets[t].name===e)return this.assets[t];return null},load:function(){for(var e=0;e<this.assets.length;e++)this.assets[e].load()},updatePercent:function(){this.assets.length===0?this.percentLoaded=100:(this.percentLoaded=this._private.numberLoaded/this.assets.length*100,this.percentLoaded=parseFloat(this.percentLoaded.toFixed(2))),this.events.raiseEvent("progressChanged",{}),this.percentLoaded===100&&this.events.raiseEvent("complete",{})}}),Andrada.Core.Asset.extend("Andrada.Core.Sound",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.AssetManager",{},{init:function(){}}),Andrada.Core.AssetManager.extend("Andrada.Core.SoundManager",{},{init:function(){}}),gamecore.Base.extend("Andrada.Core.InputManager",{},{init:function(){}}),Andrada.Core.Graphics.Item.extend("Andrada.Game.Container",{},{}),Andrada.Core.Graphics.Mobile.extend("Andrada.Game.Creature",{},{}),Andrada.Game.Creature.extend("Andrada.Game.Monster",{},{}),Andrada.Core.Graphics.Mobile.extend("Andrada.Game.Player",{},{}),Andrada.Core.Graphics.Mobile.extend("Andrada.Game.NPC",{},{}),Kinetic.Stage.extend("Andrada.Game.Stage",{},{}),gamecore.Base.extend("Andrada.Game.StageManaer",{},{}),gamecore.Base.extend("Andrada.Game.Engine",{},{});
